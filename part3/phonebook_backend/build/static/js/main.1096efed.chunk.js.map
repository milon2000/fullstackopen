{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/ErrorMessage.js","services/persons.js","App.js","index.js"],"names":["Filter","props","onChange","handleSearchChange","value","searchTerm","PersonForm","onSubmit","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Persons","personsToShow","map","id","Notification","message","className","ErrorMessage","errorMessage","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","setErrorMessage","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","personObject","Math","floor","random","find","changedPerson","window","confirm","returnedPerson","p","setTimeout","catch","error","concat","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1096efed.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input onChange={props.handleSearchChange} value={props.searchTerm} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit = {props.addPerson}>\r\n        <div>\r\n          name: <input\r\n          value = {props.newName}\r\n          onChange = {props.handlePersonChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n          value = {props.newNumber}\r\n          onChange = {props.handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from \"react\";\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n        return (\r\n        <li>\r\n          {person.name} \r\n          {person.number} \r\n           <button onClick = {deletePerson}>delete</button> \r\n        </li> \r\n    )\r\n}\r\n\r\nexport default Person","import React from \"react\";\r\nimport Person from './Person'\r\n\r\nconst Persons = ({personsToShow, deletePerson}) => {\r\n    return (\r\n        <ul>\r\n        {personsToShow.map(person => \r\n          <Person \r\n          key = {person.id} \r\n          person = {person}\r\n          deletePerson = {() => deletePerson(person.id)}  />\r\n          )}\r\n      </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","const Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className='notification'>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","const ErrorMessage = ({ errorMessage }) => {\r\n    if (errorMessage === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default ErrorMessage","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id, newObject) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deletePerson,\r\n};","import React, { useEffect, useState } from \"react\"\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport Notification from \"./components/Notification\"\nimport ErrorMessage from \"./components/ErrorMessage\"\nimport personService from \"./services/persons\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleSearhChange = (event) => {\n    setSearchTerm(event.target.value)\n  };\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: Math.floor(Math.random() * 1000),\n    };\n\n    const person = persons.find((person) => person.name === newName)\n    const changedPerson = { ...person, number: newNumber }\n    if (person) {\n      if (\n        window.confirm(\n          `${person.name} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update(person.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((p) => (p.name === newName ? returnedPerson : p))\n            );\n\n            setMessage(`Updated ${person.name}`)\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setErrorMessage(\n              ` Information of '${person.name}' has already been removed from server`\n            );\n            setPersons(persons.filter((p) => p.name !== person.name))\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n\n            setNewName(\"\");\n            setNewNumber(\"\")\n          });\n      }\n    } else {\n      personService\n      .create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setMessage(`Added chuj ${personObject.name}`);\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000);\n        setNewName(\"\")\n        setNewNumber(\"\")\n      })\n      .catch(error => {\n        console.log('tu kurwa')\n        setErrorMessage(error)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  \n    }\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find((p) => p.id === id);\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deletePerson(id).then((returnedPerson) => {\n        setPersons(persons.filter((p) => p.id !== id));\n      });\n    }\n  };\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} />\n      <ErrorMessage errorMessage={errorMessage} />\n      <Filter handleSearchChange={handleSearhChange} searchTerm={searchTerm} />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}